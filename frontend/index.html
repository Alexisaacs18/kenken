<!doctype html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-22EC240Z7X"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-22EC240Z7X');
    </script>
    
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>Puzzalo Games - Daily KenKen Puzzles</title>
    
    <!-- Version check script - runs before React to detect stale cached versions -->
    <!-- NOTE: This only uses 'kenken_app_version' key - does NOT affect puzzle sessions -->
    <script>
      (function() {
        var CURRENT_VERSION = '{{APP_VERSION}}';
        var VERSION_KEY = 'kenken_app_version'; // Separate key - never conflicts with session data
        var storedVersion = localStorage.getItem(VERSION_KEY);
        
        // If versions don't match, force a hard reload to bypass cache
        // localStorage persists across reloads, so puzzle sessions remain intact
        if (storedVersion && storedVersion !== CURRENT_VERSION) {
          console.log('[Version Check] Version mismatch detected. Forcing reload...');
          localStorage.setItem(VERSION_KEY, CURRENT_VERSION);
          window.location.reload();
        } else if (!storedVersion) {
          // First load - store the version
          localStorage.setItem(VERSION_KEY, CURRENT_VERSION);
        }
      })();
    </script>
    
    <meta name="description" content="Play the Daily KenKen challenge on Puzzalo.com! Switch between various difficulties, sizes, and daily puzzles. Free and fun brain training!">
    
    <!-- Favicons -->
    <link rel="icon" type="image/png" href="/images/puzzalo-favicon.png?v={{APP_VERSION}}">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg?v={{APP_VERSION}}">
    <link rel="icon" type="image/x-icon" href="/favicon.ico?v={{APP_VERSION}}">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v={{APP_VERSION}}">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v={{APP_VERSION}}">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v={{APP_VERSION}}">
    <link rel="manifest" href="/site.webmanifest?v={{APP_VERSION}}">
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
