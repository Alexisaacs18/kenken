{
  "version": 3,
  "sources": ["../bundle-gBHEsH/strip-cf-connecting-ip-header.js", "../../../src/kenken.ts", "../../../src/index.ts", "../../../node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "../../../node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts", "../bundle-gBHEsH/middleware-insertion-facade.js", "../../../node_modules/wrangler/templates/middleware/common.ts", "../bundle-gBHEsH/middleware-loader.entry.ts"],
  "sourceRoot": "/Users/alexisaacs/Development/kenken/backend/.wrangler/tmp/dev-N4nFZM",
  "sourcesContent": ["function stripCfConnectingIPHeader(input, init) {\n\tconst request = new Request(input, init);\n\trequest.headers.delete(\"CF-Connecting-IP\");\n\treturn request;\n}\n\nglobalThis.fetch = new Proxy(globalThis.fetch, {\n\tapply(target, thisArg, argArray) {\n\t\treturn Reflect.apply(target, thisArg, [\n\t\t\tstripCfConnectingIPHeader.apply(null, argArray),\n\t\t]);\n\t},\n});\n", "/**\n * KenKen puzzle generation and solving logic (TypeScript port)\n */\n\nexport type Operator = '+' | '-' | '*' | '/' | '=';\nexport type Cell = [number, number]; // [row, col] 1-indexed\nexport type Clique = [Cell[], Operator, number]; // [members, operator, target]\n\n// Seeded random number generator\nclass SeededRandom {\n  private seed: number;\n\n  constructor(seed: string) {\n    // Simple hash function to convert string to number\n    let hash = 0;\n    for (let i = 0; i < seed.length; i++) {\n      const char = seed.charCodeAt(i);\n      hash = ((hash << 5) - hash) + char;\n      hash = hash & hash; // Convert to 32bit integer\n    }\n    this.seed = Math.abs(hash) || 1;\n  }\n\n  random(): number {\n    this.seed = (this.seed * 9301 + 49297) % 233280;\n    return this.seed / 233280;\n  }\n\n  randint(min: number, max: number): number {\n    return Math.floor(this.random() * (max - min + 1)) + min;\n  }\n\n  choice<T>(arr: T[]): T {\n    return arr[Math.floor(this.random() * arr.length)];\n  }\n\n  shuffle<T>(arr: T[]): T[] {\n    const result = [...arr];\n    for (let i = result.length - 1; i > 0; i--) {\n      const j = Math.floor(this.random() * (i + 1));\n      [result[i], result[j]] = [result[j], result[i]];\n    }\n    return result;\n  }\n}\n\n// Helper functions\nfunction adjacent(xy1: Cell, xy2: Cell): boolean {\n  const [x1, y1] = xy1;\n  const [x2, y2] = xy2;\n  const dx = x1 - x2;\n  const dy = y1 - y2;\n  return (dx === 0 && Math.abs(dy) === 1) || (dy === 0 && Math.abs(dx) === 1);\n}\n\nfunction operation(op: Operator): (a: number, b: number) => number {\n  switch (op) {\n    case '+': return (a, b) => a + b;\n    case '-': return (a, b) => a - b;\n    case '*': return (a, b) => a * b;\n    case '/': return (a, b) => a / b;\n    default: return (a, b) => a;\n  }\n}\n\nfunction rowXorCol(xy1: Cell, xy2: Cell): boolean {\n  return (xy1[0] === xy2[0]) !== (xy1[1] === xy2[1]);\n}\n\nfunction conflicting(A: Cell[], a: number[], B: Cell[], b: number[]): boolean {\n  for (let i = 0; i < A.length; i++) {\n    for (let j = 0; j < B.length; j++) {\n      const mA = A[i];\n      const mB = B[j];\n      const ma = a[i];\n      const mb = b[j];\n      if (rowXorCol(mA, mB) && ma === mb) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\n// Generate cartesian product\nfunction product<T>(arr: T[], repeat: number): T[][] {\n  if (repeat === 0) return [[]];\n  const result: T[][] = [];\n  for (const item of arr) {\n    for (const rest of product(arr, repeat - 1)) {\n      result.push([item, ...rest]);\n    }\n  }\n  return result;\n}\n\n// Generate permutations\nfunction permutations<T>(arr: T[]): T[][] {\n  if (arr.length <= 1) return [arr];\n  const result: T[][] = [];\n  for (let i = 0; i < arr.length; i++) {\n    const rest = [...arr.slice(0, i), ...arr.slice(i + 1)];\n    for (const perm of permutations(rest)) {\n      result.push([arr[i], ...perm]);\n    }\n  }\n  return result;\n}\n\nfunction satisfies(values: number[], op: Operator, target: number): boolean {\n  const opFn = operation(op);\n  for (const perm of permutations(values)) {\n    const result = perm.reduce(opFn);\n    if (Math.abs(result - target) < 0.0001) { // Float comparison\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction gdomains(size: number, cliques: Clique[]): Map<string, number[][]> {\n  const domains = new Map<string, number[][]>();\n  const numbers = Array.from({ length: size }, (_, i) => i + 1);\n\n  for (const [members, operator, target] of cliques) {\n    const membersKey = JSON.stringify(members);\n    const allCombinations = product(numbers, members.length);\n    \n    const validCombinations = allCombinations.filter(values => {\n      // Check no conflicts within the cage\n      if (conflicting(members, values, members, values)) {\n        return false;\n      }\n      // Check operation is satisfied\n      return satisfies(values, operator, target);\n    });\n\n    domains.set(membersKey, validCombinations);\n  }\n\n  return domains;\n}\n\nfunction gneighbors(cliques: Clique[]): Map<string, string[]> {\n  const neighbors = new Map<string, string[]>();\n  \n  for (const [members] of cliques) {\n    neighbors.set(JSON.stringify(members), []);\n  }\n\n  for (const [A] of cliques) {\n    for (const [B] of cliques) {\n      const aKey = JSON.stringify(A);\n      const bKey = JSON.stringify(B);\n      \n      if (aKey !== bKey && !neighbors.get(aKey)!.includes(bKey)) {\n        // Check if they can conflict\n        const dummyA = Array(A.length).fill(-1);\n        const dummyB = Array(B.length).fill(-1);\n        if (conflicting(A, dummyA, B, dummyB)) {\n          neighbors.get(aKey)!.push(bKey);\n          neighbors.get(bKey)!.push(aKey);\n        }\n      }\n    }\n  }\n\n  return neighbors;\n}\n\n// Simple backtracking solver with statistics tracking\nfunction backtrackingSearch(\n  variables: string[],\n  domains: Map<string, number[][]>,\n  neighbors: Map<string, string[]>,\n  constraint: (varA: string, valA: number[], varB: string, valB: number[]) => boolean\n): { assignment: Map<string, number[]> | null; checks: number; assigns: number } {\n  const assignment = new Map<string, number[]>();\n  let checks = 0;\n  let assigns = 0;\n\n  function isConsistent(varA: string, valA: number[]): boolean {\n    for (const varB of neighbors.get(varA) || []) {\n      const valB = assignment.get(varB);\n      if (valB) {\n        checks++;\n        if (!constraint(varA, valA, varB, valB)) {\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n\n  function search(): boolean {\n    if (assignment.size === variables.length) {\n      return true; // All variables assigned\n    }\n\n    // Select unassigned variable (simple: first unassigned)\n    const unassigned = variables.find(v => !assignment.has(v));\n    if (!unassigned) return true;\n\n    // Try each value in domain\n    const domain = domains.get(unassigned) || [];\n    for (const value of domain) {\n      if (isConsistent(unassigned, value)) {\n        assignment.set(unassigned, value);\n        assigns++;\n        if (search()) {\n          return true;\n        }\n        assignment.delete(unassigned);\n      }\n    }\n    return false;\n  }\n\n  const success = search();\n  return {\n    assignment: success ? assignment : null,\n    checks,\n    assigns,\n  };\n}\n\nexport function generate(size: number, seed?: string): [number, Clique[]] {\n  const rng = seed ? new SeededRandom(seed) : new SeededRandom(Date.now().toString());\n\n  // Create initial Latin square\n  let board: number[][] = [];\n  for (let j = 0; j < size; j++) {\n    const row: number[] = [];\n    for (let i = 0; i < size; i++) {\n      row.push(((i + j) % size) + 1);\n    }\n    board.push(row);\n  }\n\n  // Shuffle rows\n  for (let _ = 0; _ < size; _++) {\n    board = rng.shuffle(board);\n  }\n\n  // Randomly swap columns\n  for (let c1 = 0; c1 < size; c1++) {\n    for (let c2 = 0; c2 < size; c2++) {\n      if (rng.random() > 0.5) {\n        for (let r = 0; r < size; r++) {\n          [board[r][c1], board[r][c2]] = [board[r][c2], board[r][c1]];\n        }\n      }\n    }\n  }\n\n  // Convert to 1-indexed map\n  const boardMap = new Map<string, number>();\n  for (let i = 0; i < size; i++) {\n    for (let j = 0; j < size; j++) {\n      boardMap.set(JSON.stringify([j + 1, i + 1]), board[i][j]);\n    }\n  }\n\n  // Create cliques\n  const uncaged: Cell[] = [];\n  for (let i = 1; i <= size; i++) {\n    for (let j = 1; j <= size; j++) {\n      uncaged.push([j, i]);\n    }\n  }\n  uncaged.sort((a, b) => a[1] - b[1] || a[0] - b[0]);\n\n  const cliques: Clique[] = [];\n\n  while (uncaged.length > 0) {\n    const clique: Cell[] = [];\n    const csize = rng.randint(1, 4);\n    \n    let cell = uncaged[0];\n    uncaged.splice(0, 1);\n    clique.push(cell);\n\n    for (let _ = 0; _ < csize - 1; _++) {\n      const adjs = uncaged.filter(other => adjacent(cell, other));\n      if (adjs.length === 0) break;\n      cell = rng.choice(adjs);\n      const idx = uncaged.findIndex(c => c[0] === cell[0] && c[1] === cell[1]);\n      uncaged.splice(idx, 1);\n      clique.push(cell);\n    }\n\n    const actualSize = clique.length;\n    let operator: Operator;\n    let target: number;\n\n    if (actualSize === 1) {\n      const cell = clique[0];\n      const value = boardMap.get(JSON.stringify(cell))!;\n      cliques.push([clique, '=', value]);\n      continue;\n    } else if (actualSize === 2) {\n      const [fst, snd] = clique;\n      const val1 = boardMap.get(JSON.stringify(fst))!;\n      const val2 = boardMap.get(JSON.stringify(snd))!;\n      if (val1 / val2 > 0 && val1 % val2 === 0) {\n        operator = '/';\n        target = val1 / val2;\n      } else {\n        operator = '-';\n        target = Math.abs(val1 - val2);\n      }\n    } else {\n      operator = rng.choice(['+', '*']);\n      const values = clique.map(c => boardMap.get(JSON.stringify(c))!);\n      const opFn = operation(operator);\n      target = values.reduce(opFn);\n    }\n\n    cliques.push([clique, operator, Math.floor(target)]);\n  }\n\n  return [size, cliques];\n}\n\nexport function solve(size: number, cliques: Clique[]): {\n  solution: number[][];\n  checks: number;\n  assigns: number;\n  time: number;\n} | null {\n  const startTime = Date.now();\n\n  const variables = cliques.map(([members]) => JSON.stringify(members));\n  const domains = gdomains(size, cliques);\n  const neighbors = gneighbors(cliques);\n\n  // Create constraint function\n  const constraint = (varA: string, valA: number[], varB: string, valB: number[]): boolean => {\n    if (varA === varB) return true;\n    const membersA: Cell[] = JSON.parse(varA);\n    const membersB: Cell[] = JSON.parse(varB);\n    return !conflicting(membersA, valA, membersB, valB);\n  };\n\n  const result = backtrackingSearch(variables, domains, neighbors, constraint);\n  \n  if (!result.assignment) {\n    return null;\n  }\n\n  // Convert assignment to board\n  const board: number[][] = Array(size).fill(0).map(() => Array(size).fill(0));\n  for (const [members] of cliques) {\n    const membersKey = JSON.stringify(members);\n    const values = result.assignment.get(membersKey);\n    if (values) {\n      for (let i = 0; i < members.length; i++) {\n        const [row, col] = members[i];\n        board[row - 1][col - 1] = values[i];\n      }\n    }\n  }\n\n  const endTime = Date.now();\n  return {\n    solution: board,\n    checks: result.checks,\n    assigns: result.assigns,\n    time: (endTime - startTime) / 1000,\n  };\n}\n\nexport function cliquesToCages(cliques: Clique[]) {\n  return cliques.map(([members, operator, target]) => ({\n    cells: members.map(([row, col]) => [row - 1, col - 1]) as [number, number][],\n    operator: operator,\n    target,\n  }));\n}\n", "/**\n * Cloudflare Worker: KenKen API Gateway\n * This Worker serves as the API gateway for KenKen puzzle operations\n */\n\nimport { generate, solve, cliquesToCages } from './kenken';\n\n// CORS headers helper\nconst corsHeaders = {\n  'Access-Control-Allow-Origin': '*',\n  'Access-Control-Allow-Methods': 'GET, POST, OPTIONS',\n  'Access-Control-Allow-Headers': 'Content-Type',\n};\n\nexport default {\n  async fetch(request: Request, env: any, ctx: ExecutionContext): Promise<Response> {\n    const url = new URL(request.url);\n    const path = url.pathname;\n    const method = request.method;\n\n    // Handle CORS preflight\n    if (method === 'OPTIONS') {\n      return new Response(null, { headers: corsHeaders });\n    }\n\n    // Route requests\n    if (path === '/api/generate' && method === 'POST') {\n      return handleGenerate(request);\n    } else if (path === '/api/solve' && method === 'POST') {\n      return handleSolve(request);\n    } else if (path === '/api/validate' && method === 'POST') {\n      return handleValidate(request);\n    } else if (path === '/api/health' && method === 'GET') {\n      return new Response(JSON.stringify({ status: 'ok', message: 'API Worker is running' }), {\n        headers: { ...corsHeaders, 'Content-Type': 'application/json' },\n      });\n    } else if (path === '/' && method === 'GET') {\n      return new Response(JSON.stringify({ \n        message: 'KenKen API is running', \n        endpoints: ['/api/generate', '/api/solve', '/api/validate', '/api/health'] \n      }), {\n        headers: { ...corsHeaders, 'Content-Type': 'application/json' },\n      });\n    }\n\n    // 404 for unknown routes\n    return new Response(JSON.stringify({ error: 'Not found' }), {\n      status: 404,\n      headers: { ...corsHeaders, 'Content-Type': 'application/json' },\n    });\n  },\n};\n\nasync function handleGenerate(request: Request): Promise<Response> {\n  try {\n    const data = await request.json() as { size?: number; algorithm?: string; seed?: string };\n    const size = data.size || 4;\n    const algorithm = data.algorithm || 'FC+MRV';\n    const seed = data.seed || undefined;\n\n    // Generate puzzle\n    const [puzzleSize, cliques] = generate(size, seed);\n\n    // Solve to get solution\n    const solutionResult = solve(puzzleSize, cliques);\n\n    if (!solutionResult) {\n      return new Response(\n        JSON.stringify({ error: 'Failed to solve generated puzzle' }),\n        { status: 500, headers: { ...corsHeaders, 'Content-Type': 'application/json' } }\n      );\n    }\n\n    // Convert to frontend format\n    const cages = cliquesToCages(cliques);\n\n    const response = {\n      puzzle: {\n        size: puzzleSize,\n        cages,\n        solution: solutionResult.solution,\n      },\n      stats: {\n        algorithm,\n        constraint_checks: solutionResult.checks,\n        assignments: solutionResult.assigns,\n        completion_time: solutionResult.time,\n      },\n    };\n\n    return new Response(JSON.stringify(response), {\n      headers: { ...corsHeaders, 'Content-Type': 'application/json' },\n    });\n  } catch (error) {\n    console.error('Error generating puzzle:', error);\n    return new Response(\n      JSON.stringify({ error: error instanceof Error ? error.message : 'Unknown error' }),\n      { status: 500, headers: { ...corsHeaders, 'Content-Type': 'application/json' } }\n    );\n  }\n}\n\nasync function handleSolve(request: Request): Promise<Response> {\n  try {\n    const data = await request.json() as { puzzle: any; algorithm?: string };\n    const puzzleData = data.puzzle;\n    const algorithm = data.algorithm || 'FC+MRV';\n\n    // Convert frontend format to backend format\n    const size = puzzleData.size;\n    const cliques = puzzleData.cages.map((cage: any) => {\n      const cells = cage.cells.map(([row, col]: [number, number]) => [row + 1, col + 1] as [number, number]);\n      const operator = cage.operator === '=' ? '.' : cage.operator;\n      return [cells, operator, cage.target] as [[number, number][], string, number];\n    });\n\n    // Solve puzzle\n    const solutionResult = solve(size, cliques);\n\n    if (!solutionResult) {\n      return new Response(\n        JSON.stringify({ error: 'Failed to solve puzzle' }),\n        { status: 500, headers: { ...corsHeaders, 'Content-Type': 'application/json' } }\n      );\n    }\n\n    return new Response(\n      JSON.stringify({\n        solution: solutionResult.solution,\n        stats: {\n          algorithm,\n          constraint_checks: solutionResult.checks,\n          assignments: solutionResult.assigns,\n          completion_time: solutionResult.time,\n        },\n      }),\n      {\n        headers: { ...corsHeaders, 'Content-Type': 'application/json' },\n      }\n    );\n  } catch (error) {\n    console.error('Error solving puzzle:', error);\n    return new Response(\n      JSON.stringify({ error: error instanceof Error ? error.message : 'Unknown error' }),\n      { status: 500, headers: { ...corsHeaders, 'Content-Type': 'application/json' } }\n    );\n  }\n}\n\nasync function handleValidate(request: Request): Promise<Response> {\n  try {\n    const data = await request.json() as { puzzle: any; board: number[][] };\n    const puzzleData = data.puzzle;\n    const board = data.board;\n\n    const errors: Array<{ row: number; col: number; message: string }> = [];\n\n    // Validate rows (no duplicates)\n    for (let row = 0; row < puzzleData.size; row++) {\n      const seen = new Set<number>();\n      for (let col = 0; col < puzzleData.size; col++) {\n        const val = board[row][col];\n        if (val > 0) {\n          if (seen.has(val)) {\n            errors.push({\n              row,\n              col,\n              message: `Duplicate ${val} in row`,\n            });\n          }\n          seen.add(val);\n        }\n      }\n    }\n\n    // Validate columns (no duplicates)\n    for (let col = 0; col < puzzleData.size; col++) {\n      const seen = new Set<number>();\n      for (let row = 0; row < puzzleData.size; row++) {\n        const val = board[row][col];\n        if (val > 0) {\n          if (seen.has(val)) {\n            errors.push({\n              row,\n              col,\n              message: `Duplicate ${val} in column`,\n            });\n          }\n          seen.add(val);\n        }\n      }\n    }\n\n    // Validate cages\n    for (const cage of puzzleData.cages) {\n      const cageValues = cage.cells\n        .map(([row, col]: [number, number]) => board[row][col])\n        .filter((val: number) => val > 0);\n\n      if (cageValues.length === cage.cells.length) {\n        // All cells filled, check constraint\n        if (!evaluateCage(cage, cageValues)) {\n          for (const [row, col] of cage.cells) {\n            errors.push({\n              row,\n              col,\n              message: 'Cage constraint not satisfied',\n            });\n          }\n        }\n      }\n    }\n\n    return new Response(\n      JSON.stringify({\n        valid: errors.length === 0,\n        errors,\n      }),\n      {\n        headers: { ...corsHeaders, 'Content-Type': 'application/json' },\n      }\n    );\n  } catch (error) {\n    console.error('Error validating board:', error);\n    return new Response(\n      JSON.stringify({ error: error instanceof Error ? error.message : 'Unknown error' }),\n      { status: 500, headers: { ...corsHeaders, 'Content-Type': 'application/json' } }\n    );\n  }\n}\n\nfunction evaluateCage(cage: any, values: number[]): boolean {\n  if (cage.operator === '=') {\n    return values.length === 1 && values[0] === cage.target;\n  }\n\n  const sortedValues = [...values].sort((a, b) => a - b);\n\n  switch (cage.operator) {\n    case '+':\n      return sortedValues.reduce((a, b) => a + b, 0) === cage.target;\n    case '-':\n      if (sortedValues.length !== 2) return false;\n      return Math.abs(sortedValues[0] - sortedValues[1]) === cage.target;\n    case '*':\n      return sortedValues.reduce((a, b) => a * b, 1) === cage.target;\n    case '/':\n      if (sortedValues.length !== 2) return false;\n      const [a, b] = sortedValues;\n      return (a / b === cage.target) || (b / a === cage.target);\n    default:\n      return false;\n  }\n}\n", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "import type { Middleware } from \"./common\";\n\ninterface JsonError {\n\tmessage?: string;\n\tname?: string;\n\tstack?: string;\n\tcause?: JsonError;\n}\n\nfunction reduceError(e: any): JsonError {\n\treturn {\n\t\tname: e?.name,\n\t\tmessage: e?.message ?? String(e),\n\t\tstack: e?.stack,\n\t\tcause: e?.cause === undefined ? undefined : reduceError(e.cause),\n\t};\n}\n\n// See comment in `bundle.ts` for details on why this is needed\nconst jsonError: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} catch (e: any) {\n\t\tconst error = reduceError(e);\n\t\treturn Response.json(error, {\n\t\t\tstatus: 500,\n\t\t\theaders: { \"MF-Experimental-Error-Stack\": \"true\" },\n\t\t});\n\t}\n};\n\nexport default jsonError;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"/Users/alexisaacs/Development/kenken/backend/src/index.ts\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"/Users/alexisaacs/Development/kenken/backend/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts\";\nimport * as __MIDDLEWARE_1__ from \"/Users/alexisaacs/Development/kenken/backend/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts\";\n\n\t\t\t\texport * from \"/Users/alexisaacs/Development/kenken/backend/src/index.ts\";\n\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default,__MIDDLEWARE_1__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"/Users/alexisaacs/Development/kenken/backend/.wrangler/tmp/bundle-gBHEsH/middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"/Users/alexisaacs/Development/kenken/backend/node_modules/wrangler/templates/middleware/common.ts\";\nimport type { WorkerEntrypointConstructor } from \"/Users/alexisaacs/Development/kenken/backend/.wrangler/tmp/bundle-gBHEsH/middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"/Users/alexisaacs/Development/kenken/backend/.wrangler/tmp/bundle-gBHEsH/middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n"],
  "mappings": "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",
  "names": ["cell", "a", "b"]
}
